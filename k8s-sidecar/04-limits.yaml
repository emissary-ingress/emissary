---
apiVersion: getambassador.io/v1beta1
kind: RateLimit
metadata:
  name: amb
spec:
  domain: ambassador
  limits:
  - pattern: [{source_cluster: "*"}, {destination_cluster: "*"}, {remote_address: "*"}, {generic_key: rldesc}]
    rate: 3
    unit: minute
---
apiVersion: getambassador.io/v1beta1
kind: RateLimit
metadata:
  name: rlfoo
spec:
  domain: blah
  limits:
  - pattern: [{foo: bar}, {bazz: "*", zoo: asdf}, {moo: blah}]
    unit: day
    rate: 5
  - pattern: [{foo: bar}, {qux: mooo}]
    unit: second
    rate: 10
  - pattern: [{bar: "*"}, {baz: moo, blutz: arf}, {bleh: "*"}]
    unit: day
    rate: 5
---
apiVersion: getambassador.io/v1beta1
kind: RateLimit
metadata:
  name: rlbar
spec:
  domain: blah
  limits:
  - pattern: [{foo: bar}, {baz: "*"}, {moo: blah}]
    unit: day
    rate: 5
  - pattern: [{foo: bar}, {qux: moo}]
    unit: second
    rate: 10
  - pattern: [{baz: "*"}, {baz: moo}, {bleh: "*"}]
    unit: day
    rate: 5
---
apiVersion: getambassador.io/v1beta1
kind: RateLimit
metadata:
  name: rlbaz
spec:
  domain: bleh
  limits:
  - pattern: [{foo: bar}, {baz: "*"}, {moo: blah}]
    unit: day
    rate: 5
  - pattern: [{foo: bar}, {qux: moo}]
    unit: second
    rate: 10
  - pattern: [{baz: "*"}, {baz: moo}, {bleh: "*"}]
    unit: day
    rate: 5
---
apiVersion: getambassador.io/v1beta1
kind: RateLimit
metadata:
  name: rlqux
spec:
  domain: test
  limits:
  - pattern: [{a: b}]
    rate: 5
    unit: day
  - pattern: [{a: c}]
    rate: 5
    unit: second
