{
    "ambassador": {
        "_active": true,
        "_errored": false,
        "_finalized": true,
        "_rkey": "ir.ambassador",
        "admin_port": 8001,
        "debug_mode": false,
        "default_label_domain": "ambassador",
        "default_labels": {},
        "diag_port": 8877,
        "diagnostics": {
            "enabled": true,
            "prefix": "/ambassador/v0/",
            "rewrite": "/ambassador/v0/",
            "service": "127.0.0.1:8877"
        },
        "enable_http10": false,
        "enable_ipv4": true,
        "enable_ipv6": false,
        "envoy_log_path": "/dev/fd/1",
        "envoy_log_type": "text",
        "kind": "IRAmbassador",
        "liveness_probe": {
            "enabled": true,
            "prefix": "/ambassador/v0/check_alive",
            "rewrite": "/ambassador/v0/check_alive",
            "service": "127.0.0.1:8877"
        },
        "location": "--internal--",
        "name": "ir.ambassador",
        "namespace": "default",
        "readiness_probe": {
            "enabled": true,
            "prefix": "/ambassador/v0/check_ready",
            "rewrite": "/ambassador/v0/check_ready",
            "service": "127.0.0.1:8877"
        },
        "server_name": "envoy",
        "service_port": 8080,
        "use_ambassador_namespace_for_service_resolution": false,
        "use_proxy_proto": false,
        "use_remote_address": true,
        "x_forwarded_proto_redirect": false,
        "xff_num_trusted_hops": 0
    },
    "clusters": {
        "cluster_127_0_0_1_8500_default": {
            "_active": true,
            "_errored": false,
            "_hostname": "127.0.0.1",
            "_is_sidecar": true,
            "_namespace": "default",
            "_port": 8500,
            "_referenced_by": [
                "--internal--",
                "ambassador-edge-stack.default.1"
            ],
            "_resolver": "kubernetes-service",
            "_rkey": "cluster_127_0_0_1_8500_default",
            "connect_timeout_ms": 3000,
            "enable_endpoints": false,
            "enable_ipv4": true,
            "enable_ipv6": false,
            "ignore_cluster": false,
            "kind": "IRCluster",
            "lb_type": "round_robin",
            "location": "ambassador-edge-stack.default.1",
            "name": "cluster_127_0_0_1_8500_default",
            "namespace": "default",
            "service": "127.0.0.1:8500",
            "targets": [
                {
                    "ip": "127.0.0.1",
                    "port": 8500,
                    "target_kind": "IPaddr"
                }
            ],
            "type": "strict_dns",
            "urls": [
                "tcp://127.0.0.1:8500"
            ]
        },
        "cluster_127_0_0_1_8877_default": {
            "_active": true,
            "_errored": false,
            "_hostname": "127.0.0.1",
            "_is_sidecar": false,
            "_namespace": "default",
            "_port": 8877,
            "_referenced_by": [
                "--internal--"
            ],
            "_resolver": "kubernetes-service",
            "_rkey": "cluster_127_0_0_1_8877_default",
            "connect_timeout_ms": 3000,
            "enable_endpoints": false,
            "enable_ipv4": true,
            "enable_ipv6": false,
            "ignore_cluster": false,
            "kind": "IRCluster",
            "lb_type": "round_robin",
            "location": "--internal--",
            "name": "cluster_127_0_0_1_8877_default",
            "namespace": "default",
            "service": "127.0.0.1:8877",
            "targets": [
                {
                    "ip": "127.0.0.1",
                    "port": 8877,
                    "target_kind": "IPaddr"
                }
            ],
            "type": "strict_dns",
            "urls": [
                "tcp://127.0.0.1:8877"
            ]
        },
        "cluster_rate_limit_tls_5000_otls_ratelimit_tls_context_default": {
            "_active": true,
            "_errored": false,
            "_hostname": "rate-limit-tls",
            "_is_sidecar": false,
            "_namespace": "default",
            "_port": 5000,
            "_referenced_by": [
                "rate-limit-tls.default.1"
            ],
            "_rkey": "cluster_rate_limit_tls_5000_otls_ratelimit_tls_context_default",
            "connect_timeout_ms": 3000,
            "enable_endpoints": false,
            "enable_ipv4": true,
            "enable_ipv6": false,
            "grpc": true,
            "ignore_cluster": false,
            "kind": "IRCluster",
            "lb_type": "round_robin",
            "location": "rate-limit-tls.default.1",
            "name": "cluster_rate_limit_tls_5000_otls_ratelim-0",
            "namespace": "default",
            "service": "rate-limit-tls:5000",
            "targets": [
                {
                    "ip": "rate-limit-tls.default",
                    "port": 5000,
                    "target_kind": "DNSname"
                }
            ],
            "tls_context": {
                "_active": true,
                "_errored": false,
                "_referenced_by": [
                    "rate-limit-tls.default.1",
                    "ratelimitv1withtlstest-http.default.1"
                ],
                "_rkey": "ratelimitv1withtlstest-http.default.1",
                "alpn_protocols": "h2",
                "is_fallback": false,
                "kind": "TLSContext",
                "location": "ratelimitv1withtlstest-http.default.1",
                "metadata_labels": {
                    "kat-ambassador-id": "ratelimitv1withtlstest",
                    "scope": "AmbassadorTest"
                },
                "name": "ratelimit-tls-context",
                "namespace": "default",
                "secret_info": {
                    "cert_chain_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.crt",
                    "private_key_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.key",
                    "secret": "ratelimit-tls-secret"
                }
            },
            "type": "strict_dns",
            "urls": [
                "tcp://rate-limit-tls:5000"
            ]
        },
        "cluster_ratelimitv1withtlstest_http_default": {
            "_active": true,
            "_errored": false,
            "_hostname": "ratelimitv1withtlstest-http",
            "_is_sidecar": false,
            "_namespace": "default",
            "_port": 80,
            "_referenced_by": [
                "ratelimitv1withtlstest-http.default.2"
            ],
            "_resolver": "kubernetes-service",
            "_rkey": "cluster_ratelimitv1withtlstest_http_default",
            "connect_timeout_ms": 3000,
            "enable_endpoints": false,
            "enable_ipv4": true,
            "enable_ipv6": false,
            "ignore_cluster": false,
            "kind": "IRCluster",
            "lb_type": "round_robin",
            "location": "ratelimitv1withtlstest-http.default.2",
            "name": "cluster_ratelimitv1withtlstest_http_default",
            "namespace": "default",
            "service": "ratelimitv1withtlstest-http",
            "targets": [
                {
                    "ip": "ratelimitv1withtlstest-http.default",
                    "port": 80,
                    "target_kind": "DNSname"
                }
            ],
            "type": "strict_dns",
            "urls": [
                "tcp://ratelimitv1withtlstest-http:80"
            ]
        }
    },
    "filters": [
        {
            "_active": true,
            "_errored": false,
            "_rkey": "ir.cors",
            "config": {},
            "kind": "ir.cors",
            "location": "--internal--",
            "name": "cors",
            "namespace": "default"
        },
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "rate-limit-tls.default.1"
            ],
            "_rkey": "rate-limit-tls.default.1",
            "cluster": {
                "_active": true,
                "_errored": false,
                "_hostname": "rate-limit-tls",
                "_is_sidecar": false,
                "_namespace": "default",
                "_port": 5000,
                "_referenced_by": [
                    "rate-limit-tls.default.1"
                ],
                "_rkey": "cluster_rate_limit_tls_5000_otls_ratelimit_tls_context_default",
                "connect_timeout_ms": 3000,
                "enable_endpoints": false,
                "enable_ipv4": true,
                "enable_ipv6": false,
                "grpc": true,
                "ignore_cluster": false,
                "kind": "IRCluster",
                "lb_type": "round_robin",
                "location": "rate-limit-tls.default.1",
                "name": "cluster_rate_limit_tls_5000_otls_ratelim-0",
                "namespace": "default",
                "service": "rate-limit-tls:5000",
                "targets": [
                    {
                        "ip": "rate-limit-tls.default",
                        "port": 5000,
                        "target_kind": "DNSname"
                    }
                ],
                "tls_context": {
                    "_active": true,
                    "_errored": false,
                    "_referenced_by": [
                        "rate-limit-tls.default.1",
                        "ratelimitv1withtlstest-http.default.1"
                    ],
                    "_rkey": "ratelimitv1withtlstest-http.default.1",
                    "alpn_protocols": "h2",
                    "is_fallback": false,
                    "kind": "TLSContext",
                    "location": "ratelimitv1withtlstest-http.default.1",
                    "metadata_labels": {
                        "kat-ambassador-id": "ratelimitv1withtlstest",
                        "scope": "AmbassadorTest"
                    },
                    "name": "ratelimit-tls-context",
                    "namespace": "default",
                    "secret_info": {
                        "cert_chain_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.crt",
                        "private_key_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.key",
                        "secret": "ratelimit-tls-secret"
                    }
                },
                "type": "strict_dns",
                "urls": [
                    "tcp://rate-limit-tls:5000"
                ]
            },
            "config": {
                "domain": "ambassador",
                "request_type": "both",
                "timeout_ms": 500
            },
            "ctx_name": "ratelimit-tls-context",
            "data_plane_proto": false,
            "domain": "ambassador",
            "grpc_service": {
                "_active": true,
                "_errored": false,
                "_hostname": "rate-limit-tls",
                "_is_sidecar": false,
                "_namespace": "default",
                "_port": 5000,
                "_referenced_by": [
                    "rate-limit-tls.default.1"
                ],
                "_rkey": "cluster_rate_limit_tls_5000_otls_ratelimit_tls_context_default",
                "connect_timeout_ms": 3000,
                "enable_endpoints": false,
                "enable_ipv4": true,
                "enable_ipv6": false,
                "grpc": true,
                "ignore_cluster": false,
                "kind": "IRCluster",
                "lb_type": "round_robin",
                "location": "rate-limit-tls.default.1",
                "name": "cluster_rate_limit_tls_5000_otls_ratelim-0",
                "namespace": "default",
                "service": "rate-limit-tls:5000",
                "targets": [
                    {
                        "ip": "rate-limit-tls.default",
                        "port": 5000,
                        "target_kind": "DNSname"
                    }
                ],
                "tls_context": {
                    "_active": true,
                    "_errored": false,
                    "_referenced_by": [
                        "rate-limit-tls.default.1",
                        "ratelimitv1withtlstest-http.default.1"
                    ],
                    "_rkey": "ratelimitv1withtlstest-http.default.1",
                    "alpn_protocols": "h2",
                    "is_fallback": false,
                    "kind": "TLSContext",
                    "location": "ratelimitv1withtlstest-http.default.1",
                    "metadata_labels": {
                        "kat-ambassador-id": "ratelimitv1withtlstest",
                        "scope": "AmbassadorTest"
                    },
                    "name": "ratelimit-tls-context",
                    "namespace": "default",
                    "secret_info": {
                        "cert_chain_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.crt",
                        "private_key_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.key",
                        "secret": "ratelimit-tls-secret"
                    }
                },
                "type": "strict_dns",
                "urls": [
                    "tcp://rate-limit-tls:5000"
                ]
            },
            "kind": "IRRateLimit",
            "location": "rate-limit-tls.default.1",
            "name": "rate_limit",
            "namespace": "default",
            "service": "rate-limit-tls:5000",
            "type": "decoder"
        },
        {
            "_active": true,
            "_errored": false,
            "_rkey": "ir.router",
            "config": {},
            "kind": "ir.router",
            "location": "--internal--",
            "name": "router",
            "namespace": "default",
            "type": "decoder"
        }
    ],
    "groups": [
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "ambassador-edge-stack.default.1"
            ],
            "_rkey": "ambassador-edge-stack.default.1",
            "group_id": "05c39b1e3391160319615ede25f8cca27d745b6c",
            "group_weight": [
                1000000,
                13,
                0,
                "/.ambassador/",
                "GET"
            ],
            "headers": [],
            "kind": "IRHTTPMappingGroup",
            "location": "ambassador-edge-stack.default.1",
            "mappings": [
                {
                    "_active": true,
                    "_errored": false,
                    "_rkey": "ambassador-edge-stack.default.1",
                    "add_request_headers": {},
                    "cluster": {
                        "_active": true,
                        "_errored": false,
                        "_hostname": "127.0.0.1",
                        "_is_sidecar": true,
                        "_namespace": "default",
                        "_port": 8500,
                        "_referenced_by": [
                            "--internal--",
                            "ambassador-edge-stack.default.1"
                        ],
                        "_resolver": "kubernetes-service",
                        "_rkey": "cluster_127_0_0_1_8500_default",
                        "connect_timeout_ms": 3000,
                        "enable_endpoints": false,
                        "enable_ipv4": true,
                        "enable_ipv6": false,
                        "ignore_cluster": false,
                        "kind": "IRCluster",
                        "lb_type": "round_robin",
                        "location": "ambassador-edge-stack.default.1",
                        "name": "cluster_127_0_0_1_8500_default",
                        "namespace": "default",
                        "service": "127.0.0.1:8500",
                        "targets": [
                            {
                                "ip": "127.0.0.1",
                                "port": 8500,
                                "target_kind": "IPaddr"
                            }
                        ],
                        "type": "strict_dns",
                        "urls": [
                            "tcp://127.0.0.1:8500"
                        ]
                    },
                    "group_id": "05c39b1e3391160319615ede25f8cca27d745b6c",
                    "headers": [],
                    "kind": "Mapping",
                    "location": "ambassador-edge-stack.default.1",
                    "metadata_labels": {
                        "ambassador_crd": "ambassador-edge-stack.default",
                        "ambassador_diag_class": "private",
                        "product": "aes"
                    },
                    "name": "ambassador-edge-stack",
                    "namespace": "default",
                    "precedence": 1000000,
                    "prefix": "/.ambassador/",
                    "resolver": "kubernetes-service",
                    "rewrite": "",
                    "route_weight": [
                        1000000,
                        13,
                        0,
                        "/.ambassador/",
                        "GET"
                    ],
                    "serialization": "ambassador_id:\n- _automatic_\napiVersion: getambassador.io/v2\ngeneration: 1\nkind: Mapping\nmetadata_labels:\n  ambassador_crd: ambassador-edge-stack.default\n  ambassador_diag_class: private\n  product: aes\nname: ambassador-edge-stack\nnamespace: default\nprecedence: 1000000\nprefix: /.ambassador/\nrewrite: ''\nservice: 127.0.0.1:8500\n",
                    "service": "127.0.0.1:8500",
                    "weight": 100
                }
            ],
            "metadata_labels": {
                "ambassador_crd": "ambassador-edge-stack.default",
                "ambassador_diag_class": "private",
                "product": "aes"
            },
            "name": "GROUP: ambassador-edge-stack",
            "namespace": "default",
            "precedence": 1000000,
            "prefix": "/.ambassador/",
            "rewrite": "",
            "serialization": "ambassador_id:\n- _automatic_\napiVersion: getambassador.io/v2\ngeneration: 1\nkind: Mapping\nmetadata_labels:\n  ambassador_crd: ambassador-edge-stack.default\n  ambassador_diag_class: private\n  product: aes\nname: ambassador-edge-stack\nnamespace: default\nprecedence: 1000000\nprefix: /.ambassador/\nrewrite: ''\nservice: 127.0.0.1:8500\n"
        },
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "--internal--"
            ],
            "_rkey": "ir.ambassador",
            "group_id": "ab86de585a684254d5458bdeb01da4fba36c21cc",
            "group_weight": [
                1000000,
                12,
                0,
                "/edge_stack/",
                "GET"
            ],
            "headers": [],
            "kind": "IRHTTPMappingGroup",
            "location": "--internal--",
            "mappings": [
                {
                    "_active": true,
                    "_errored": false,
                    "_referenced_by": [
                        "--internal--"
                    ],
                    "_rkey": "ir.ambassador",
                    "add_request_headers": {},
                    "cluster": {
                        "_active": true,
                        "_errored": false,
                        "_hostname": "127.0.0.1",
                        "_is_sidecar": true,
                        "_namespace": "default",
                        "_port": 8500,
                        "_referenced_by": [
                            "--internal--",
                            "ambassador-edge-stack.default.1"
                        ],
                        "_resolver": "kubernetes-service",
                        "_rkey": "cluster_127_0_0_1_8500_default",
                        "connect_timeout_ms": 3000,
                        "enable_endpoints": false,
                        "enable_ipv4": true,
                        "enable_ipv6": false,
                        "ignore_cluster": false,
                        "kind": "IRCluster",
                        "lb_type": "round_robin",
                        "location": "ambassador-edge-stack.default.1",
                        "name": "cluster_127_0_0_1_8500_default",
                        "namespace": "default",
                        "service": "127.0.0.1:8500",
                        "targets": [
                            {
                                "ip": "127.0.0.1",
                                "port": 8500,
                                "target_kind": "IPaddr"
                            }
                        ],
                        "type": "strict_dns",
                        "urls": [
                            "tcp://127.0.0.1:8500"
                        ]
                    },
                    "group_id": "ab86de585a684254d5458bdeb01da4fba36c21cc",
                    "headers": [],
                    "kind": "IRHTTPMapping",
                    "location": "--internal--",
                    "metadata_labels": {
                        "ambassador_diag_class": "private"
                    },
                    "name": "edgestack-direct-mapping",
                    "namespace": "default",
                    "precedence": 1000000,
                    "prefix": "/edge_stack/",
                    "resolver": "kubernetes-service",
                    "rewrite": "/edge_stack_ui/edge_stack/",
                    "route_weight": [
                        1000000,
                        12,
                        0,
                        "/edge_stack/",
                        "GET"
                    ],
                    "service": "127.0.0.1:8500",
                    "timeout_ms": 60000,
                    "weight": 100
                }
            ],
            "metadata_labels": {
                "ambassador_diag_class": "private"
            },
            "name": "GROUP: edgestack-direct-mapping",
            "namespace": "default",
            "precedence": 1000000,
            "prefix": "/edge_stack/",
            "rewrite": "/edge_stack_ui/edge_stack/",
            "timeout_ms": 60000
        },
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "--internal--"
            ],
            "_rkey": "ir.ambassador",
            "group_id": "b4db12f5b638f1750062dd4220911c4f6f44fc57",
            "group_weight": [
                0,
                26,
                0,
                "/ambassador/v0/check_ready",
                "GET"
            ],
            "headers": [],
            "kind": "IRHTTPMappingGroup",
            "location": "--internal--",
            "mappings": [
                {
                    "_active": true,
                    "_errored": false,
                    "_referenced_by": [
                        "--internal--"
                    ],
                    "_rkey": "ir.ambassador",
                    "add_request_headers": {},
                    "cluster": {
                        "_active": true,
                        "_errored": false,
                        "_hostname": "127.0.0.1",
                        "_is_sidecar": false,
                        "_namespace": "default",
                        "_port": 8877,
                        "_referenced_by": [
                            "--internal--"
                        ],
                        "_resolver": "kubernetes-service",
                        "_rkey": "cluster_127_0_0_1_8877_default",
                        "connect_timeout_ms": 3000,
                        "enable_endpoints": false,
                        "enable_ipv4": true,
                        "enable_ipv6": false,
                        "ignore_cluster": false,
                        "kind": "IRCluster",
                        "lb_type": "round_robin",
                        "location": "--internal--",
                        "name": "cluster_127_0_0_1_8877_default",
                        "namespace": "default",
                        "service": "127.0.0.1:8877",
                        "targets": [
                            {
                                "ip": "127.0.0.1",
                                "port": 8877,
                                "target_kind": "IPaddr"
                            }
                        ],
                        "type": "strict_dns",
                        "urls": [
                            "tcp://127.0.0.1:8877"
                        ]
                    },
                    "group_id": "b4db12f5b638f1750062dd4220911c4f6f44fc57",
                    "headers": [],
                    "kind": "IRHTTPMapping",
                    "location": "--internal--",
                    "name": "internal_readiness_probe_mapping",
                    "namespace": "default",
                    "precedence": 0,
                    "prefix": "/ambassador/v0/check_ready",
                    "resolver": "kubernetes-service",
                    "rewrite": "/ambassador/v0/check_ready",
                    "route_weight": [
                        0,
                        26,
                        0,
                        "/ambassador/v0/check_ready",
                        "GET"
                    ],
                    "service": "127.0.0.1:8877",
                    "timeout_ms": 10000,
                    "weight": 100
                }
            ],
            "name": "GROUP: internal_readiness_probe_mapping",
            "namespace": "default",
            "precedence": 0,
            "prefix": "/ambassador/v0/check_ready",
            "rewrite": "/ambassador/v0/check_ready",
            "timeout_ms": 10000
        },
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "--internal--"
            ],
            "_rkey": "ir.ambassador",
            "group_id": "7df546235997704c909d473af2cbcb5e606d20de",
            "group_weight": [
                0,
                26,
                0,
                "/ambassador/v0/check_alive",
                "GET"
            ],
            "headers": [],
            "kind": "IRHTTPMappingGroup",
            "location": "--internal--",
            "mappings": [
                {
                    "_active": true,
                    "_errored": false,
                    "_referenced_by": [
                        "--internal--"
                    ],
                    "_rkey": "ir.ambassador",
                    "add_request_headers": {},
                    "cluster": {
                        "_active": true,
                        "_errored": false,
                        "_hostname": "127.0.0.1",
                        "_is_sidecar": false,
                        "_namespace": "default",
                        "_port": 8877,
                        "_referenced_by": [
                            "--internal--"
                        ],
                        "_resolver": "kubernetes-service",
                        "_rkey": "cluster_127_0_0_1_8877_default",
                        "connect_timeout_ms": 3000,
                        "enable_endpoints": false,
                        "enable_ipv4": true,
                        "enable_ipv6": false,
                        "ignore_cluster": false,
                        "kind": "IRCluster",
                        "lb_type": "round_robin",
                        "location": "--internal--",
                        "name": "cluster_127_0_0_1_8877_default",
                        "namespace": "default",
                        "service": "127.0.0.1:8877",
                        "targets": [
                            {
                                "ip": "127.0.0.1",
                                "port": 8877,
                                "target_kind": "IPaddr"
                            }
                        ],
                        "type": "strict_dns",
                        "urls": [
                            "tcp://127.0.0.1:8877"
                        ]
                    },
                    "group_id": "7df546235997704c909d473af2cbcb5e606d20de",
                    "headers": [],
                    "kind": "IRHTTPMapping",
                    "location": "--internal--",
                    "name": "internal_liveness_probe_mapping",
                    "namespace": "default",
                    "precedence": 0,
                    "prefix": "/ambassador/v0/check_alive",
                    "resolver": "kubernetes-service",
                    "rewrite": "/ambassador/v0/check_alive",
                    "route_weight": [
                        0,
                        26,
                        0,
                        "/ambassador/v0/check_alive",
                        "GET"
                    ],
                    "service": "127.0.0.1:8877",
                    "timeout_ms": 10000,
                    "weight": 100
                }
            ],
            "name": "GROUP: internal_liveness_probe_mapping",
            "namespace": "default",
            "precedence": 0,
            "prefix": "/ambassador/v0/check_alive",
            "rewrite": "/ambassador/v0/check_alive",
            "timeout_ms": 10000
        },
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "--internal--"
            ],
            "_rkey": "ir.ambassador",
            "group_id": "8de18501d2044fe30db225289b318d5fda913b64",
            "group_weight": [
                0,
                15,
                0,
                "/ambassador/v0/",
                "GET"
            ],
            "headers": [],
            "kind": "IRHTTPMappingGroup",
            "location": "--internal--",
            "mappings": [
                {
                    "_active": true,
                    "_errored": false,
                    "_referenced_by": [
                        "--internal--"
                    ],
                    "_rkey": "ir.ambassador",
                    "add_request_headers": {},
                    "cluster": {
                        "_active": true,
                        "_errored": false,
                        "_hostname": "127.0.0.1",
                        "_is_sidecar": false,
                        "_namespace": "default",
                        "_port": 8877,
                        "_referenced_by": [
                            "--internal--"
                        ],
                        "_resolver": "kubernetes-service",
                        "_rkey": "cluster_127_0_0_1_8877_default",
                        "connect_timeout_ms": 3000,
                        "enable_endpoints": false,
                        "enable_ipv4": true,
                        "enable_ipv6": false,
                        "ignore_cluster": false,
                        "kind": "IRCluster",
                        "lb_type": "round_robin",
                        "location": "--internal--",
                        "name": "cluster_127_0_0_1_8877_default",
                        "namespace": "default",
                        "service": "127.0.0.1:8877",
                        "targets": [
                            {
                                "ip": "127.0.0.1",
                                "port": 8877,
                                "target_kind": "IPaddr"
                            }
                        ],
                        "type": "strict_dns",
                        "urls": [
                            "tcp://127.0.0.1:8877"
                        ]
                    },
                    "group_id": "8de18501d2044fe30db225289b318d5fda913b64",
                    "headers": [],
                    "kind": "IRHTTPMapping",
                    "location": "--internal--",
                    "name": "internal_diagnostics_probe_mapping",
                    "namespace": "default",
                    "precedence": 0,
                    "prefix": "/ambassador/v0/",
                    "resolver": "kubernetes-service",
                    "rewrite": "/ambassador/v0/",
                    "route_weight": [
                        0,
                        15,
                        0,
                        "/ambassador/v0/",
                        "GET"
                    ],
                    "service": "127.0.0.1:8877",
                    "timeout_ms": 10000,
                    "weight": 100
                }
            ],
            "name": "GROUP: internal_diagnostics_probe_mapping",
            "namespace": "default",
            "precedence": 0,
            "prefix": "/ambassador/v0/",
            "rewrite": "/ambassador/v0/",
            "timeout_ms": 10000
        },
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "ratelimitv1withtlstest-http.default.2"
            ],
            "_rkey": "ratelimitv1withtlstest-http.default.2",
            "group_id": "ef2f76a27cdb850e84f8f5c00ce17c4798f7e065",
            "group_weight": [
                0,
                8,
                0,
                "/target/",
                "GET"
            ],
            "headers": [],
            "kind": "IRHTTPMappingGroup",
            "labels": {
                "ambassador": [
                    {
                        "request_label_group": [
                            {
                                "x-ambassador-test-allow": {
                                    "header": "x-ambassador-test-allow",
                                    "omit_if_not_present": true
                                }
                            }
                        ]
                    }
                ]
            },
            "location": "ratelimitv1withtlstest-http.default.2",
            "mappings": [
                {
                    "_active": true,
                    "_errored": false,
                    "_rkey": "ratelimitv1withtlstest-http.default.2",
                    "add_request_headers": {},
                    "cluster": {
                        "_active": true,
                        "_errored": false,
                        "_hostname": "ratelimitv1withtlstest-http",
                        "_is_sidecar": false,
                        "_namespace": "default",
                        "_port": 80,
                        "_referenced_by": [
                            "ratelimitv1withtlstest-http.default.2"
                        ],
                        "_resolver": "kubernetes-service",
                        "_rkey": "cluster_ratelimitv1withtlstest_http_default",
                        "connect_timeout_ms": 3000,
                        "enable_endpoints": false,
                        "enable_ipv4": true,
                        "enable_ipv6": false,
                        "ignore_cluster": false,
                        "kind": "IRCluster",
                        "lb_type": "round_robin",
                        "location": "ratelimitv1withtlstest-http.default.2",
                        "name": "cluster_ratelimitv1withtlstest_http_default",
                        "namespace": "default",
                        "service": "ratelimitv1withtlstest-http",
                        "targets": [
                            {
                                "ip": "ratelimitv1withtlstest-http.default",
                                "port": 80,
                                "target_kind": "DNSname"
                            }
                        ],
                        "type": "strict_dns",
                        "urls": [
                            "tcp://ratelimitv1withtlstest-http:80"
                        ]
                    },
                    "group_id": "ef2f76a27cdb850e84f8f5c00ce17c4798f7e065",
                    "headers": [],
                    "kind": "Mapping",
                    "labels": {
                        "ambassador": [
                            {
                                "request_label_group": [
                                    {
                                        "x-ambassador-test-allow": {
                                            "header": "x-ambassador-test-allow",
                                            "omit_if_not_present": true
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    "location": "ratelimitv1withtlstest-http.default.2",
                    "metadata_labels": {
                        "kat-ambassador-id": "ratelimitv1withtlstest",
                        "scope": "AmbassadorTest"
                    },
                    "name": "ratelimit_target_mapping",
                    "namespace": "default",
                    "precedence": 0,
                    "prefix": "/target/",
                    "resolver": "kubernetes-service",
                    "rewrite": "/",
                    "route_weight": [
                        0,
                        8,
                        0,
                        "/target/",
                        "GET"
                    ],
                    "serialization": "ambassador_id: ratelimitv1withtlstest\napiVersion: ambassador/v1\nkind: Mapping\nlabels:\n  ambassador:\n  - request_label_group:\n    - x-ambassador-test-allow:\n        header: x-ambassador-test-allow\n        omit_if_not_present: true\nmetadata_labels:\n  kat-ambassador-id: ratelimitv1withtlstest\n  scope: AmbassadorTest\nname: ratelimit_target_mapping\nnamespace: default\nprefix: /target/\nservice: ratelimitv1withtlstest-http\n",
                    "service": "ratelimitv1withtlstest-http",
                    "weight": 100
                }
            ],
            "metadata_labels": {
                "kat-ambassador-id": "ratelimitv1withtlstest",
                "scope": "AmbassadorTest"
            },
            "name": "GROUP: ratelimit_target_mapping",
            "namespace": "default",
            "precedence": 0,
            "prefix": "/target/",
            "rewrite": "/",
            "serialization": "ambassador_id: ratelimitv1withtlstest\napiVersion: ambassador/v1\nkind: Mapping\nlabels:\n  ambassador:\n  - request_label_group:\n    - x-ambassador-test-allow:\n        header: x-ambassador-test-allow\n        omit_if_not_present: true\nmetadata_labels:\n  kat-ambassador-id: ratelimitv1withtlstest\n  scope: AmbassadorTest\nname: ratelimit_target_mapping\nnamespace: default\nprefix: /target/\nservice: ratelimitv1withtlstest-http\n"
        },
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "--internal--"
            ],
            "_rkey": "ir.ambassador",
            "group_id": "680a6fad8cb1cf2ad5fce0be9da026e1e0f1b76f",
            "group_weight": [
                -1000000,
                3,
                0,
                "^/$",
                "GET"
            ],
            "headers": [],
            "kind": "IRHTTPMappingGroup",
            "location": "--internal--",
            "mappings": [
                {
                    "_active": true,
                    "_errored": false,
                    "_referenced_by": [
                        "--internal--"
                    ],
                    "_rkey": "ir.ambassador",
                    "add_request_headers": {},
                    "cluster": {
                        "_active": true,
                        "_errored": false,
                        "_hostname": "127.0.0.1",
                        "_is_sidecar": true,
                        "_namespace": "default",
                        "_port": 8500,
                        "_referenced_by": [
                            "--internal--",
                            "ambassador-edge-stack.default.1"
                        ],
                        "_resolver": "kubernetes-service",
                        "_rkey": "cluster_127_0_0_1_8500_default",
                        "connect_timeout_ms": 3000,
                        "enable_endpoints": false,
                        "enable_ipv4": true,
                        "enable_ipv6": false,
                        "ignore_cluster": false,
                        "kind": "IRCluster",
                        "lb_type": "round_robin",
                        "location": "ambassador-edge-stack.default.1",
                        "name": "cluster_127_0_0_1_8500_default",
                        "namespace": "default",
                        "service": "127.0.0.1:8500",
                        "targets": [
                            {
                                "ip": "127.0.0.1",
                                "port": 8500,
                                "target_kind": "IPaddr"
                            }
                        ],
                        "type": "strict_dns",
                        "urls": [
                            "tcp://127.0.0.1:8500"
                        ]
                    },
                    "group_id": "680a6fad8cb1cf2ad5fce0be9da026e1e0f1b76f",
                    "headers": [],
                    "kind": "IRHTTPMapping",
                    "location": "--internal--",
                    "metadata_labels": {
                        "ambassador_diag_class": "private"
                    },
                    "name": "edgestack-fallback-mapping",
                    "namespace": "default",
                    "precedence": -1000000,
                    "prefix": "^/$",
                    "prefix_regex": true,
                    "resolver": "kubernetes-service",
                    "rewrite": "/edge_stack_ui/",
                    "route_weight": [
                        -1000000,
                        3,
                        0,
                        "^/$",
                        "GET"
                    ],
                    "service": "127.0.0.1:8500",
                    "timeout_ms": 60000,
                    "weight": 100
                }
            ],
            "metadata_labels": {
                "ambassador_diag_class": "private"
            },
            "name": "GROUP: edgestack-fallback-mapping",
            "namespace": "default",
            "precedence": -1000000,
            "prefix": "^/$",
            "prefix_regex": true,
            "rewrite": "/edge_stack_ui/",
            "timeout_ms": 60000
        }
    ],
    "grpc_services": {
        "rate_limit_service": {
            "_active": true,
            "_errored": false,
            "_hostname": "rate-limit-tls",
            "_is_sidecar": false,
            "_namespace": "default",
            "_port": 5000,
            "_referenced_by": [
                "rate-limit-tls.default.1"
            ],
            "_rkey": "cluster_rate_limit_tls_5000_otls_ratelimit_tls_context_default",
            "connect_timeout_ms": 3000,
            "enable_endpoints": false,
            "enable_ipv4": true,
            "enable_ipv6": false,
            "grpc": true,
            "ignore_cluster": false,
            "kind": "IRCluster",
            "lb_type": "round_robin",
            "location": "rate-limit-tls.default.1",
            "name": "cluster_rate_limit_tls_5000_otls_ratelim-0",
            "namespace": "default",
            "service": "rate-limit-tls:5000",
            "targets": [
                {
                    "ip": "rate-limit-tls.default",
                    "port": 5000,
                    "target_kind": "DNSname"
                }
            ],
            "tls_context": {
                "_active": true,
                "_errored": false,
                "_referenced_by": [
                    "rate-limit-tls.default.1",
                    "ratelimitv1withtlstest-http.default.1"
                ],
                "_rkey": "ratelimitv1withtlstest-http.default.1",
                "alpn_protocols": "h2",
                "is_fallback": false,
                "kind": "TLSContext",
                "location": "ratelimitv1withtlstest-http.default.1",
                "metadata_labels": {
                    "kat-ambassador-id": "ratelimitv1withtlstest",
                    "scope": "AmbassadorTest"
                },
                "name": "ratelimit-tls-context",
                "namespace": "default",
                "secret_info": {
                    "cert_chain_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.crt",
                    "private_key_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.key",
                    "secret": "ratelimit-tls-secret"
                }
            },
            "type": "strict_dns",
            "urls": [
                "tcp://rate-limit-tls:5000"
            ]
        }
    },
    "hosts": [
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "cleartext-host-ratelimitv1withtlstest.default.1"
            ],
            "_rkey": "cleartext-host-ratelimitv1withtlstest.default.1",
            "acmeProvider": {
                "authority": "none"
            },
            "hostname": "*",
            "kind": "Host",
            "location": "cleartext-host-ratelimitv1withtlstest.default.1",
            "name": "cleartext-host-ratelimitv1withtlstest",
            "namespace": "default",
            "requestPolicy": {
                "insecure": {
                    "action": "Route"
                }
            },
            "selector": {
                "matchLabels": {
                    "hostname": "ratelimitv1withtlstest"
                }
            }
        }
    ],
    "identity": {
        "ambassador_id": "ratelimitv1withtlstest",
        "ambassador_namespace": "default",
        "ambassador_nodename": "ratelimitv1withtlstest-default"
    },
    "k8s_status_updates": {
        "ambassador-edge-stack.default": [
            "Mapping",
            "default",
            {
                "state": "Running"
            }
        ]
    },
    "listeners": [
        {
            "_active": true,
            "_errored": false,
            "_rkey": "ir.listener",
            "hostname": "*",
            "insecure_action": "Route",
            "kind": "IRListener",
            "location": "cleartext-host-ratelimitv1withtlstest.default.1",
            "name": "ir.listener",
            "namespace": "default",
            "redirect_listener": false,
            "secure_action": "Route",
            "service_port": 8080,
            "use_proxy_proto": false
        }
    ],
    "ratelimit": {
        "_active": true,
        "_errored": false,
        "_referenced_by": [
            "rate-limit-tls.default.1"
        ],
        "_rkey": "rate-limit-tls.default.1",
        "cluster": {
            "_active": true,
            "_errored": false,
            "_hostname": "rate-limit-tls",
            "_is_sidecar": false,
            "_namespace": "default",
            "_port": 5000,
            "_referenced_by": [
                "rate-limit-tls.default.1"
            ],
            "_rkey": "cluster_rate_limit_tls_5000_otls_ratelimit_tls_context_default",
            "connect_timeout_ms": 3000,
            "enable_endpoints": false,
            "enable_ipv4": true,
            "enable_ipv6": false,
            "grpc": true,
            "ignore_cluster": false,
            "kind": "IRCluster",
            "lb_type": "round_robin",
            "location": "rate-limit-tls.default.1",
            "name": "cluster_rate_limit_tls_5000_otls_ratelim-0",
            "namespace": "default",
            "service": "rate-limit-tls:5000",
            "targets": [
                {
                    "ip": "rate-limit-tls.default",
                    "port": 5000,
                    "target_kind": "DNSname"
                }
            ],
            "tls_context": {
                "_active": true,
                "_errored": false,
                "_referenced_by": [
                    "rate-limit-tls.default.1",
                    "ratelimitv1withtlstest-http.default.1"
                ],
                "_rkey": "ratelimitv1withtlstest-http.default.1",
                "alpn_protocols": "h2",
                "is_fallback": false,
                "kind": "TLSContext",
                "location": "ratelimitv1withtlstest-http.default.1",
                "metadata_labels": {
                    "kat-ambassador-id": "ratelimitv1withtlstest",
                    "scope": "AmbassadorTest"
                },
                "name": "ratelimit-tls-context",
                "namespace": "default",
                "secret_info": {
                    "cert_chain_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.crt",
                    "private_key_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.key",
                    "secret": "ratelimit-tls-secret"
                }
            },
            "type": "strict_dns",
            "urls": [
                "tcp://rate-limit-tls:5000"
            ]
        },
        "config": {
            "domain": "ambassador",
            "request_type": "both",
            "timeout_ms": 500
        },
        "ctx_name": "ratelimit-tls-context",
        "data_plane_proto": false,
        "domain": "ambassador",
        "grpc_service": {
            "_active": true,
            "_errored": false,
            "_hostname": "rate-limit-tls",
            "_is_sidecar": false,
            "_namespace": "default",
            "_port": 5000,
            "_referenced_by": [
                "rate-limit-tls.default.1"
            ],
            "_rkey": "cluster_rate_limit_tls_5000_otls_ratelimit_tls_context_default",
            "connect_timeout_ms": 3000,
            "enable_endpoints": false,
            "enable_ipv4": true,
            "enable_ipv6": false,
            "grpc": true,
            "ignore_cluster": false,
            "kind": "IRCluster",
            "lb_type": "round_robin",
            "location": "rate-limit-tls.default.1",
            "name": "cluster_rate_limit_tls_5000_otls_ratelim-0",
            "namespace": "default",
            "service": "rate-limit-tls:5000",
            "targets": [
                {
                    "ip": "rate-limit-tls.default",
                    "port": 5000,
                    "target_kind": "DNSname"
                }
            ],
            "tls_context": {
                "_active": true,
                "_errored": false,
                "_referenced_by": [
                    "rate-limit-tls.default.1",
                    "ratelimitv1withtlstest-http.default.1"
                ],
                "_rkey": "ratelimitv1withtlstest-http.default.1",
                "alpn_protocols": "h2",
                "is_fallback": false,
                "kind": "TLSContext",
                "location": "ratelimitv1withtlstest-http.default.1",
                "metadata_labels": {
                    "kat-ambassador-id": "ratelimitv1withtlstest",
                    "scope": "AmbassadorTest"
                },
                "name": "ratelimit-tls-context",
                "namespace": "default",
                "secret_info": {
                    "cert_chain_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.crt",
                    "private_key_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.key",
                    "secret": "ratelimit-tls-secret"
                }
            },
            "type": "strict_dns",
            "urls": [
                "tcp://rate-limit-tls:5000"
            ]
        },
        "kind": "IRRateLimit",
        "location": "rate-limit-tls.default.1",
        "name": "rate_limit",
        "namespace": "default",
        "service": "rate-limit-tls:5000",
        "type": "decoder"
    },
    "services": {
        "k8s-rate-limit-tls-default": {
            "_referenced_by": {},
            "ambassador_id": "ratelimitv1withtlstest",
            "apiVersion": "getambassador.io/v2",
            "endpoints": {},
            "kind": "Service",
            "location": "k8s-rate-limit-tls-default",
            "metadata_labels": {
                "kat-ambassador-id": "ratelimitv1withtlstest",
                "scope": "AmbassadorTest"
            },
            "name": "rate-limit-tls",
            "namespace": "default",
            "rkey": "k8s-rate-limit-tls-default",
            "serialization": "ambassador_id: ratelimitv1withtlstest\napiVersion: getambassador.io/v2\nendpoints: {}\nkind: Service\nmetadata_labels:\n  kat-ambassador-id: ratelimitv1withtlstest\n  scope: AmbassadorTest\nname: rate-limit-tls\nnamespace: default\n"
        },
        "k8s-ratelimitv1withtlstest-admin-default": {
            "_referenced_by": {},
            "ambassador_id": "ratelimitv1withtlstest",
            "apiVersion": "getambassador.io/v2",
            "endpoints": {},
            "kind": "Service",
            "location": "k8s-ratelimitv1withtlstest-admin-default",
            "metadata_labels": {
                "kat-ambassador-id": "ratelimitv1withtlstest",
                "scope": "AmbassadorTest",
                "service": "ratelimitv1withtlstest-admin"
            },
            "name": "ratelimitv1withtlstest-admin",
            "namespace": "default",
            "rkey": "k8s-ratelimitv1withtlstest-admin-default",
            "serialization": "ambassador_id: ratelimitv1withtlstest\napiVersion: getambassador.io/v2\nendpoints: {}\nkind: Service\nmetadata_labels:\n  kat-ambassador-id: ratelimitv1withtlstest\n  scope: AmbassadorTest\n  service: ratelimitv1withtlstest-admin\nname: ratelimitv1withtlstest-admin\nnamespace: default\n"
        },
        "k8s-ratelimitv1withtlstest-default": {
            "_referenced_by": {},
            "ambassador_id": "ratelimitv1withtlstest",
            "apiVersion": "getambassador.io/v2",
            "endpoints": {},
            "kind": "Service",
            "location": "k8s-ratelimitv1withtlstest-default",
            "metadata_labels": {
                "app.kubernetes.io/component": "ambassador-service",
                "kat-ambassador-id": "ratelimitv1withtlstest",
                "scope": "AmbassadorTest"
            },
            "name": "ratelimitv1withtlstest",
            "namespace": "default",
            "rkey": "k8s-ratelimitv1withtlstest-default",
            "serialization": "ambassador_id: ratelimitv1withtlstest\napiVersion: getambassador.io/v2\nendpoints: {}\nkind: Service\nmetadata_labels:\n  app.kubernetes.io/component: ambassador-service\n  kat-ambassador-id: ratelimitv1withtlstest\n  scope: AmbassadorTest\nname: ratelimitv1withtlstest\nnamespace: default\n"
        },
        "k8s-ratelimitv1withtlstest-http-default": {
            "_referenced_by": {},
            "ambassador_id": "ratelimitv1withtlstest",
            "apiVersion": "getambassador.io/v2",
            "endpoints": {},
            "kind": "Service",
            "location": "k8s-ratelimitv1withtlstest-http-default",
            "metadata_labels": {
                "kat-ambassador-id": "ratelimitv1withtlstest",
                "scope": "AmbassadorTest"
            },
            "name": "ratelimitv1withtlstest-http",
            "namespace": "default",
            "rkey": "k8s-ratelimitv1withtlstest-http-default",
            "serialization": "ambassador_id: ratelimitv1withtlstest\napiVersion: getambassador.io/v2\nendpoints: {}\nkind: Service\nmetadata_labels:\n  kat-ambassador-id: ratelimitv1withtlstest\n  scope: AmbassadorTest\nname: ratelimitv1withtlstest-http\nnamespace: default\n"
        }
    },
    "tls_contexts": [
        {
            "_active": true,
            "_errored": false,
            "_referenced_by": [
                "rate-limit-tls.default.1",
                "ratelimitv1withtlstest-http.default.1"
            ],
            "_rkey": "ratelimitv1withtlstest-http.default.1",
            "alpn_protocols": "h2",
            "is_fallback": false,
            "kind": "TLSContext",
            "location": "ratelimitv1withtlstest-http.default.1",
            "metadata_labels": {
                "kat-ambassador-id": "ratelimitv1withtlstest",
                "scope": "AmbassadorTest"
            },
            "name": "ratelimit-tls-context",
            "namespace": "default",
            "secret_info": {
                "cert_chain_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.crt",
                "private_key_file": "/tmp/ambassador/snapshots/default/secrets-decoded/ratelimit-tls-secret/1DD5A6E63A26C002E05F2A82F1E950AAF0850900.key",
                "secret": "ratelimit-tls-secret"
            }
        }
    ]
}