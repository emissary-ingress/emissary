- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-07-03T02:19:06Z"
    generation: 1
    labels:
      product: aes
    name: ambassador-devportal-api
    namespace: ambassador
    resourceVersion: "701"
    uid: 2fd46b2e-a553-455c-9a67-5b22848c1167
  spec:
    autoHostRewrite: false
    prefix: /openapi/
    prefixRegex: false
    rewrite: ""
    service: 127.0.0.1:8500
  status:
    state: Running
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-07-03T02:19:06Z"
    generation: 1
    labels:
      product: aes
    name: ambassador-mapping-with-stats-name
    namespace: ambassador
    resourceVersion: "701"
    uid: 2fd46b2e-a553-455c-9a67-5b22848c1167
  spec:
    autoHostRewrite: false
    prefix: /openapi/
    prefixRegex: false
    rewrite: ""
    service: 127.0.0.1:8500
    statsName: alt-stats-name
  status:
    state: Running
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-07-03T02:19:06Z"
    generation: 1
    labels:
      product: aes
    name: ambassador-devportal
    namespace: ambassador
    resourceVersion: "702"
    uid: d19f50c2-ad3c-4b8b-8a90-20263aa7beee
  spec:
    autoHostRewrite: true
    prefix: /docs/
    prefixRegex: false
    rewrite: /docs/
    service: 127.0.0.1:8500
  status:
    state: Running
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:11Z"
    generation: 1
    name: mapping-for-echo
    namespace: ambassador
    resourceVersion: "4462369"
    uid: 486c2af1-70d3-4d7b-9fc8-99bd19fd9107
  spec:
    prefix: /echo/
    prefixExact: false
    prefixRegex: true
    service: echo
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:11Z"
    generation: 1
    name: filter-actions-on-mapping
    namespace: ambassador
    resourceVersion: "4462382"
    uid: f30549f4-1cf7-4b03-a775-b2dab1e789a0
  spec:
    addLinkerdHeaders: false
    hostRewrite: httpbin.org
    prefix: /filter-actions/on/
    prefixExact: true
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:12Z"
    generation: 1
    name: filter-actions-if-mapping
    namespace: ambassador
    resourceVersion: "4462389"
    uid: 410db612-dd15-461c-bc08-bf3a5a47f1cc
  spec:
    addLinkerdHeaders: true
    caseSensitive: false
    hostRewrite: httpbin.org
    prefix: /filter-actions/if/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 0
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:13Z"
    generation: 1
    name: external-grpc-mapping
    namespace: ambassador
    resourceVersion: "4462430"
    uid: be652a11-10f4-4c72-b4e7-b234cc3c6e93
  spec:
    caseSensitive: true
    enableIPv4: false
    hostRewrite: httpbin.org
    idleTimeoutMS: 0
    prefix: /external-grpc/
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:14Z"
    generation: 1
    name: external-http-mapping
    namespace: ambassador
    resourceVersion: "4462431"
    uid: fcb3a3f1-7c91-4eb5-8769-7a83f7bec196
  spec:
    enableIPv4: true
    enableIPv6: false
    hostRewrite: httpbin.org
    prefix: /external-http/
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
    weight: 0
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:14Z"
    generation: 1
    name: invalid-mapping
    namespace: ambassador
    resourceVersion: "4462434"
    uid: 40e2b505-eba8-4798-b9ef-99e83b2cfec0
  spec:
    enableIPv6: true
    grpc: false
    hostRewrite: httpbin.org
    prefix: /invalid/
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:15Z"
    generation: 1
    name: jwt-filter-mapping
    namespace: ambassador
    resourceVersion: "4462442"
    uid: 4345821c-9e99-42d2-aa41-6fd78a72967f
  spec:
    grpc: true
    hostRedirect: false
    hostRewrite: httpbin.org
    prefix: /jwt/
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:15Z"
    generation: 1
    name: oauth2-auth0-nojwt-and-plugin-and-whitelist
    namespace: ambassador
    resourceVersion: "4462448"
    uid: 6ed048d0-e8b3-4eec-a016-27743871d12a
  spec:
    hostRedirect: true
    hostRewrite: httpbin.org
    methodRegex: false
    prefix: /oauth2-auth0-nojwt-and-plugin-and-whitelist/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:16Z"
    generation: 1
    name: oauth2-auth0-nojwt-and-k8ssecret-and-xhrerror
    namespace: ambassador
    resourceVersion: "4462459"
    uid: 117a70a0-b0c2-465d-aa06-d4cd1dae475c
  spec:
    hostRewrite: httpbin.org
    methodRegex: true
    prefix: /oauth2-auth0-nojwt-and-k8ssecret-and-xhrerror/
    redirectResponseCode: 0
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:17Z"
    generation: 1
    name: oauth2-auth0-nojwt-and-anyerror
    namespace: ambassador
    resourceVersion: "4462463"
    uid: 3e4e6047-e30f-4f98-bee2-3f7cb5eac929
  spec:
    hostRewrite: httpbin.org
    precedence: 0
    prefix: /oauth2-auth0-nojwt-and-anyerror/
    redirectResponseCode: 400
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:17Z"
    generation: 1
    name: oauth2-auth0-simplejwt
    namespace: ambassador
    resourceVersion: "4462468"
    uid: d8a48a30-012a-4173-ada6-820834a96018
  spec:
    hostRewrite: httpbin.org
    precedence: 100
    prefix: /oauth2-auth0-simplejwt/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    shadow: false
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:19Z"
    generation: 1
    name: oauth2-auth0-complexjwt
    namespace: ambassador
    resourceVersion: "4462486"
    uid: 0c4e65b7-6193-4e9f-9c65-060b85d8e50d
  spec:
    hostRewrite: httpbin.org
    prefix: /oauth2-auth0-complexjwt/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    shadow: true
    timeoutMS: 5000
    useWebsocket: false
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:19Z"
    generation: 1
    name: oauth2-auth0-differingscope-1
    namespace: ambassador
    resourceVersion: "4462488"
    uid: eb9e5b6a-617b-4e69-a00e-978aa79c8aa2
  spec:
    bypassAuth: false
    prefix: /differingscope/endpoint1/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    useWebsocket: true
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:19Z"
    generation: 1
    name: oauth2-auth0-differingscope-2
    namespace: ambassador
    resourceVersion: "4462489"
    uid: 6140233e-0edc-4d55-84dc-4723e69344d6
  spec:
    bypassAuth: true
    bypassErrorResponseOverrides: false
    prefix: /differingscope/endpoint2/
    rewrite: /
    service: httpbin.default.svc.cluster.local
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:20Z"
    generation: 1
    name: filter-oauth2-azure-header-credentialsmapping
    namespace: ambassador
    resourceVersion: "4462492"
    uid: 39ecb9d6-5703-4d81-9690-5c6445283821
  spec:
    bypassErrorResponseOverrides: true
    hostRegex: false
    hostRewrite: httpbin.org
    prefix: /azure-header-credentials/httpbin/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:21Z"
    generation: 1
    name: filter-oauth2-azure-mapping
    namespace: ambassador
    resourceVersion: "4462500"
    uid: 6f46fee5-9fb6-4a21-9f6d-d3ea0e2e293e
  spec:
    docs: {}
    hostRegex: true
    hostRewrite: httpbin.org
    prefix: /azure/httpbin/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:21Z"
    generation: 1
    name: filter-oauth2-google-mapping
    namespace: ambassador
    resourceVersion: "4462511"
    uid: 7ad1622b-11cf-47fb-9a46-625238a6021b
  spec:
    docs:
      ignored: false
      path: ffs
    hostRewrite: httpbin.org
    prefix: /google/httpbin/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:22Z"
    generation: 1
    name: filter-oauth2-keycloak-mapping
    namespace: ambassador
    resourceVersion: "4462515"
    uid: 7bf6a07d-2b5a-40bb-b047-feadf1801d91
  spec:
    docs:
      ignored: true
      url: ffs
    hostRewrite: httpbin.org
    prefix: /keycloak/httpbin/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:23Z"
    generation: 1
    name: filter-oauth2-okta-client-credentialsmapping
    namespace: ambassador
    resourceVersion: "4462519"
    uid: 71379014-130e-45aa-a49b-5869ba135fad
  spec:
    hostRewrite: httpbin.org
    loadBalancer: {}
    prefix: /okta-client-credentials/httpbin/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:23Z"
    generation: 1
    name: filter-oauth2-okta-mapping
    namespace: ambassador
    resourceVersion: "4462523"
    uid: 69a04d0c-ca45-4671-b056-ec315b64fae7
  spec:
    hostRewrite: httpbin.org
    loadBalancer:
      sourceIp: false
    prefix: /okta/httpbin/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:24Z"
    generation: 1
    name: filter-oauth2-uaa-mapping
    namespace: ambassador
    resourceVersion: "4462528"
    uid: 6e1a60ea-6ea0-400a-98b2-218b60aaf514
  spec:
    hostRewrite: httpbin.org
    loadBalancer:
      policy: some_policy
      sourceIp: true
    prefix: /uaa/httpbin/
    rewrite: /
    service: httpbin.default.svc.cluster.local
    timeoutMS: 5000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:25Z"
    generation: 1
    name: filter-oauth2-logout-mapping
    namespace: ambassador
    resourceVersion: "4462553"
    uid: 3b35230c-0c59-4d98-8871-6e13d4cb7f86
  spec:
    cors: {}
    prefix: /logout
    service: filter-oauth2-logout-service.default
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:25Z"
    generation: 1
    name: mapping-for-intercepted
    namespace: ambassador
    resourceVersion: "4462562"
    uid: 8727af82-ca1c-4a29-82ad-8ba94bfc3c52
  spec:
    cors:
      credentials: false
    prefix: /intercepted/
    service: intercepted.default
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:27Z"
    generation: 1
    name: load-testing-base
    namespace: ambassador
    resourceVersion: "4462591"
    uid: d5ef2932-a6a3-439b-bca8-d80f195cd9f6
  spec:
    cors:
      credentials: true
      origins:
      - ffs
      - ffs2
    prefix: /load-testing/
    service: load-http-echo.default
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:28Z"
    generation: 1
    name: load-testing-rl-minute
    namespace: ambassador
    resourceVersion: "4462630"
    uid: ad827545-4844-4005-90e4-208f4a53fb72
  spec:
    labels:
      ambassador:
      - request_label_group:
        - genericKey:
            value: minute
    prefix: /load-testing/rl-minute/
    service: load-http-echo.default
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:30Z"
    generation: 1
    name: load-testing-rl-second
    namespace: ambassador
    resourceVersion: "4462660"
    uid: 143cde54-642b-4069-a03b-033928eab103
  spec:
    labels:
      ambassador:
      - request_label_group:
        - genericKey:
            value: second
    prefix: /load-testing/rl-second/
    service: load-http-echo.default
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:32Z"
    generation: 1
    name: rl-test
    namespace: ambassador
    resourceVersion: "4462685"
    uid: 3d0b7b27-7876-4f55-bfbe-9fa1462f60f0
  spec:
    labels:
      ambassador:
      - test_limit:
        - sourceCluster:
            key: source_cluster
        - destinationCluster:
            key: destination_cluster
        - remoteAddress:
            key: remote_address
        - genericKey:
            value: rltest
    prefix: /rl/
    retryPolicy: {}
    service: httpbin.default.svc.cluster.local
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2021-01-07T20:27:54Z"
    generation: 2
    labels:
      kat-ambassador-id: consultest
    name: a
    namespace: default
    resourceVersion: "9298"
    uid: caf33312-1f60-4aed-9d8d-7a9f37b68da0
  spec:
    addResponseHeaders:
      Strict-Transport-Security:
        value: max-age=31536000
    ambassadorID:
    - consultest
    labels:
      ambassador:
      - d0:
        - genericKey:
            value: a
        - requestHeaders:
            headerName: X-Ratelimit-Id
            key: xratelimitid
            omitIfNotPresent: true
        - requestHeaders:
            headerName: X-Ratelimit-Id2
            key: xratelimitid2
            omitIfNotPresent: false
        - requestHeaders:
            headerName: X-Ratelimit-Id3
            key: xratelimitid3
    prefix: /api/[^/]+/projects/[^/]+/a(/.*)?
    prefixRegex: true
    retryPolicy:
      numRetries: 15
      retryOn: gateway-error
    rewrite: ""
    service: https://a
    timeoutMS: 10000
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:33Z"
    generation: 1
    name: rl-dual
    namespace: ambassador
    resourceVersion: "4462691"
    uid: 27c54989-78df-433c-97a0-7c516d0bd9f5
  spec:
    labels:
      ambassador:
      - minute_group:
        - genericKey:
            value: backend
        - genericKey:
            value: minutely
      - hour_group:
        - genericKey:
            value: backend
        - genericKey:
            value: hourly
    prefix: /backend/
    retryPolicy:
      numRetries: 0
      retryOn: gateway-error
    service: httpbin.default.svc.cluster.local
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: "2020-08-11T20:54:33Z"
    name: rl-dual
  spec:
    host: example\.com
    hostRegex: true
    prefix: /demo/
    service: httpbin.default.svc.cluster.local
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: null
    name: linkerdheadermapping-http-addlinkerdonly
  spec:
    addRequestHeaders: {}
    hostname: '*'
    prefix: /target_add_linkerd_header_only/
    removeRequestHeaders: []
    service: linkerdheadermapping-http-addlinkerdonly
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: null
    name: errorresponseonstatuscode-invalidservice-empty
  spec:
    errorResponseOverrides:
    - body:
        text_format: ""
      on_status_code: 503
    hostname: '*'
    prefix: /target/invalidservice/empty
    service: errorresponseonstatuscode-invalidservice-empty
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: null
    name: errorresponseonstatuscode-invalidservice-empty
  spec:
    errorResponseOverrides:
    - body:
        json_format: {}
      on_status_code: 503
    hostname: '*'
    prefix: /target/invalidservice/empty
    service: errorresponseonstatuscode-invalidservice-empty
- apiVersion: emissary-ingress.dev/v4alpha1
  kind: Mapping
  metadata:
    creationTimestamp: null
    name: multiple-headers-shouldnt-duplicate-values
  spec:
    headers:
      this-is-a: test1
      this-is-a2: test2
      this-is-a3: test3
    hostname: '*'
    prefix: /backend/
    queryParameters:
      this-is-a: test1
      this-is-a2: test2
      this-is-a3: test3
    service: quote
