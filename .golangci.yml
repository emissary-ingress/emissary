linters:
  enable-all: true
  disable:
    - errcheck
    - gochecknoglobals
    - gochecknoinits
    - golint
    - interfacer # author says it's deprecated, gives very subjective advice
    - lll
    - maligned
    - prealloc
    - scopelint
    - stylecheck
    - unparam
    - unused  # confused by dev-portal-server, for some reason
linters-settings:
  unused:
    # treat code as a program (not a library) and report unused
    # exported identifiers
    check-exported: true
  goimports:
    # put imports beginning with prefix after 3rd-party packages;
    # it's a comma-separated list of prefixes
    local-prefixes: github.com/datawire/apro,github.com/lyft/ratelimit
  depguard:
    list-type: blacklist
    include-go-root: true
    packages:
      - errors # use "github.com/pkg/errors"
      - golang.org/x/net/context # use "context"
      - github.com/datawire/kat-backend/xds/ # use "github.com/datawire/ambassador/go/"
      - github.com/lyft/ratelimit/proto/ # use "github.com/datawire/ambassador/go/"
run:
  build-tags:
    - test
    - integration
    - lint
